[gd_scene load_steps=15 format=4 uid="uid://x6na3g3bqcf8"]

[ext_resource type="Script" uid="uid://o8kqqd2p4eu5" path="res://scripts/game.gd" id="1_ydt7i"]
[ext_resource type="PackedScene" uid="uid://78b2glth7glk" path="res://resources/player/player.tscn" id="2_nybpm"]
[ext_resource type="Script" uid="uid://bterw170ci2n6" path="res://scripts/infinite_level.gd" id="3_afj2h"]
[ext_resource type="PackedScene" uid="uid://bqod7lohmpvix" path="res://scenes/debug.tscn" id="4_gp5yl"]
[ext_resource type="TileSet" uid="uid://ddysoxjijb2ap" path="res://resources/level/black_white_tile_set.tres" id="4_n1fm3"]
[ext_resource type="PackedScene" uid="uid://crrmsn1syrux2" path="res://scenes/death_screen.tscn" id="5_afj2h"]
[ext_resource type="PackedScene" uid="uid://bpd27sxvihdir" path="res://scenes/carrot.tscn" id="5_kg4pj"]
[ext_resource type="Script" uid="uid://cspholji4mi83" path="res://scripts/line_test.gd" id="6_yxdlq"]
[ext_resource type="Script" uid="uid://i38x2psyicys" path="res://scripts/loop_component.gd" id="7_o8nx4"]
[ext_resource type="Texture2D" uid="uid://qs5es43aroda" path="res://assets/art/ui elements/pausebutton1.png" id="10_yxdlq"]
[ext_resource type="Texture2D" uid="uid://8mnu55fywl76" path="res://assets/art/ui elements/pausebutton2.png" id="11_o8nx4"]
[ext_resource type="Texture2D" uid="uid://hygoq7wchjyf" path="res://assets/art/ui elements/pausebutton3.png" id="12_2mfrk"]

[sub_resource type="Curve2D" id="Curve2D_o8nx4"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 0, -192, 0, 0, 0, 0, 150, -192)
}
point_count = 2

[sub_resource type="AnimatedTexture" id="AnimatedTexture_mpa1w"]
frames = 3
frame_0/texture = ExtResource("10_yxdlq")
frame_0/duration = 0.2
frame_1/texture = ExtResource("11_o8nx4")
frame_1/duration = 0.2
frame_2/texture = ExtResource("12_2mfrk")
frame_2/duration = 0.2

[node name="Game" type="Node"]
script = ExtResource("1_ydt7i")

[node name="Player" parent="." instance=ExtResource("2_nybpm")]
position = Vector2(59, 36)

[node name="Level" type="Node2D" parent="." node_paths=PackedStringArray("player")]
script = ExtResource("3_afj2h")
player = NodePath("../Player")

[node name="TileMapLayer" type="TileMapLayer" parent="Level"]
tile_map_data = PackedByteArray("AAAAAAIAAQACAAEAAAABAAIAAQACAAEAAAABAAMAAQADAAIAAAACAAMAAQACAAIAAAADAAMAAQACAAMAAAADAAIAAQACAAEAAAACAAIAAQACAAEAAAAAAAMAAQACAAMAAAAEAAIAAQACAAEAAAAEAAMAAQACAAMAAAAFAAIAAQACAAEAAAAFAAMAAQADAAIAAAAGAAIAAQACAAEAAAAGAAMAAQACAAIAAAAHAAIAAQACAAEAAAAHAAMAAQACAAMAAAAIAAIAAQACAAEAAAAIAAMAAQACAAMAAAAJAAIAAQACAAEAAAAJAAMAAQADAAIAAAAKAAIAAQACAAEAAAAKAAMAAQACAAIAAAALAAIAAQACAAEAAAALAAMAAQACAAMAAAA=")
tile_set = ExtResource("4_n1fm3")
navigation_enabled = false

[node name="Carrot" parent="Level" instance=ExtResource("5_kg4pj")]
position = Vector2(678, 64)

[node name="Line2D" type="Line2D" parent="Level"]
points = PackedVector2Array(0, 0, 0, 1088)
width = 5.0
script = ExtResource("6_yxdlq")

[node name="LoopComponent" type="Node" parent="Level/Line2D"]
script = ExtResource("7_o8nx4")

[node name="Path2D" type="Path2D" parent="Level"]
position = Vector2(50, 0)
curve = SubResource("Curve2D_o8nx4")

[node name="PathFollow2D" type="PathFollow2D" parent="Level/Path2D"]
position = Vector2(76.800446, -192)
progress = 76.8
loop = false

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="Debug" parent="CanvasLayer" node_paths=PackedStringArray("game") instance=ExtResource("4_gp5yl")]
unique_name_in_owner = true
game = NodePath("../..")

[node name="DeathScreen" parent="CanvasLayer" instance=ExtResource("5_afj2h")]
visible = false

[node name="PauseButton" type="TextureButton" parent="CanvasLayer"]
unique_name_in_owner = true
visible = false
anchors_preset = -1
anchor_right = 0.08089583
anchor_bottom = 0.14348148
offset_right = -0.3200035
offset_bottom = 0.040000916
texture_normal = SubResource("AnimatedTexture_mpa1w")
stretch_mode = 5
metadata/_edit_use_anchors_ = true

[connection signal="carrot_collected" from="Level" to="." method="_on_level_carrot_collected"]
[connection signal="player_looped" from="Level" to="." method="loop"]
[connection signal="collected" from="Level/Carrot" to="Level" method="_on_carrot_collected"]
[connection signal="change_player_stats" from="CanvasLayer/Debug" to="." method="change_player_stats"]
